#!/usr/bin/env node

'use strict';

var program = require('commander'),
	version = require('../lib/version');

program
	.command('bump-alpha')
	.description('bump alpha version')
	.option('--suffix [suffix]', 'alpha suffix', 'alpha')
	.action(function(cmd) {
		version.checkCwd();
		version.bumpAlpha({
			suffix: cmd.suffix
		});
	});

program
	.command('bump-release')
	.description('bump release version')
	.option('--bump [bump]', 'patch, minor or major', 'patch')
	.action(function(cmd) {
		version.checkCwd();
		version.bumpRelease({
			bump: cmd.bump
		});
	});

program
	.command('alpha')
	.description('alpha release')
	.option('--suffix [suffix]', 'alpha suffix', 'alpha')
	.action(function(cmd) {
		version.checkCwd();
		version.bumpAlpha({suffix: cmd.suffix});
	});

program
	.command('release')
	.description('release')
	.option('--bump [bump]', 'patch, minor or major', 'patch')
	.option('--tag', 'create tag', false)
	.action(function(cmd) {
		version.checkCwd();
		version.bumpRelease({bump: cmd.bump});

		if (cmd.tag) {
			version.createTag();
		}
	});

program.parse(process.argv);

if (!program.args.length) {
	program.help();
}
